# Админ-панель для портфолио — мануал

## Что было сделано

Создана PHP админ-панель (`admin.php`) для загрузки проектов на сайт-портфолио.
Вместо ручного редактирования `index.html` — заходишь в админку, загружаешь картинку/видео/ссылку,
получаешь готовый HTML-код и вставляешь его в `index.html`.

### Созданные файлы

| Файл | Описание |
|------|----------|
| `admin.php` | Админ-панель (авторизация + загрузка проектов + генерация HTML) |
| `.htaccess` | Защита: блокирует доступ к `data/projects.json` через браузер |
| `manual.md` | Этот файл |

### Что НЕ менялось

`index.html`, `style.css`, `main.js` — без изменений.

### Структура каталогов (создаются автоматически при первой загрузке)

```
uploads/
  images/      — загруженные скриншоты
  videos/      — загруженные видео
data/
  projects.json — JSON-файл со списком всех проектов
```

---

## Как установить PHP на Windows

1. Скачай PHP: https://windows.php.net/download/
   - Выбери **VS16 x64 Thread Safe** → скачай zip
2. Распакуй в `C:\php`
3. Добавь `C:\php` в переменную PATH:
   - Win + R → `sysdm.cpl` → **Дополнительно** → **Переменные среды**
   - В разделе **Path** нажми **Изменить** → **Создать** → впиши `C:\php`
4. Перезагрузи терминал, проверь:
   ```
   php -v
   ```

---

## Как запустить

```bash
cd E:\Project\Portfolios
php -S localhost:8000
```

Открыть в браузере: `http://localhost:8000/admin.php`

**Логин:** `admin`
**Пароль:** `12345`

---

## Как пользоваться

1. Зайти в `admin.php`, авторизоваться
2. Заполнить форму:
   - **Название проекта** — необязательно
   - **Изображение** — обязательно (скриншот проекта)
   - **Видео** — необязательно (демо-видео)
   - **GitHub URL** — необязательно
3. Нажать «Загрузить проект»
4. Скопировать сгенерированный HTML-код (кнопка «Копировать»)
5. Вставить код в `index.html` внутрь `<div class="box-container">` (секция проектов)

---

## Безопасность (перед деплоем на хостинг)

### Сменить пароль

Сгенерировать хеш нового пароля:
```bash
php -r "echo password_hash('ТВОЙ_НОВЫЙ_ПАРОЛЬ', PASSWORD_DEFAULT);"
```

В `admin.php` заменить строку:
```php
$admin_password_hash = '$2y$10$YourHashHere';
```
на полученный хеш. И удалить блок автогенерации (строки 16-18):
```php
if ($admin_password_hash === '$2y$10$YourHashHere') {
    $admin_password_hash = password_hash('12345', PASSWORD_DEFAULT);
}
```

### Что уже защищено
- Пароль хранится как хеш (password_hash/password_verify)
- CSRF-токены во всех формах
- Проверка типов файлов (расширение + MIME)
- `.htaccess` блокирует доступ к `data/projects.json`
- Директории создаются с правами 0755

---

## Исходный файл

`admin_panel.txt` — оригинальный черновик, из которого был переработан `admin.php`.
Можно удалить после проверки.
